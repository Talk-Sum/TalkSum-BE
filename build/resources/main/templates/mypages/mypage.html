<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í†¡ì¸ ë…¸íŠ¸</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/Text.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
</head>
<body id="body-pd" class="body-pd">


<script>
    $(document).ready(function() {
        $('.nav__link').on('click', function() {
            var contentId = $(this).attr('id');
            var endpoint = "";
            console.log(contentId);
            if (contentId == "All") {
                endpoint = "/mypageReload";
            } else if (contentId == "Important") {
                endpoint = "/bookMark";
            } else if (contentId == "Trash"){
                endpoint = "/myTrashList";
            } else if (contentId == "search"){
                endpoint = "/note/search";
            }
            else {
                return;
            }
            var divId = null;
            if(contentId == "All"){
                divId = "innercontent0";
            }
            else if(contentId == "Important"){
                divId = "innercontent1";
            }
            else if(contentId == "Trash"){
                divId = "innercontent2"
            }
            else if(contentId == "search"){
                divId = "innercontent0";
            }
            console.log(endpoint);

            $.get(endpoint, function(data) {
                console.log(data);
                $("#" + divId).html(data);
            });
            if(contentId == "search"){
                window.location.href = "/mypage";
            }
        });
    });
</script>

<div class="containers">
    <div id="divSearch">
        <form action="/note/search" method="GET">
            <input type="text" name="keyword" placeholder="ë…¸íŠ¸ ì´ë¦„ì„ ê²€ìƒ‰í•˜ì„¸ìš”." id="searchInput">
            <button type="submit" id="searchIcon">
                <img src="https://img.icons8.com/ios/50/search--v1.png" alt="Search Icon" class="sicon">
            </button>
            <style>
                .search-btn {
                    background: none;
                    border: none;
                    cursor: pointer;
                    padding: 0;
                    margin: 0;
                }
            </style>
        </form>
    </div>
    <div class="buttonclass">
        <button class="btn-open-popup">
            <ion-icon name="add-outline" class="nav__icon" role="img" aria-label="add outline"></ion-icon>
            <span class="new_note">ìƒˆ ë…¸íŠ¸ ë§Œë“¤ê¸°</span>
        </button>
    </div>
</div>


<div class="l-navbar expander" id="navbar">
    <nav class="nav">
        <div>
            <div class="nav__brand">
                <div class="nav__first">
                    <ion-icon name="menu-outline" class="nav__toggle" id="nav-toggle"></ion-icon>
                    <div class="nav__profile">
                        <img width="36" height="36" src="https://img.icons8.com/fluency/48/user-male-circle--v1.png"
                             alt="user-male-circle--v1"/>
                        <a href="#" class="nav__logo" th:text="${session.loginForm.name} + 'ë‹˜'"></a> <!-- ìš” hrefëŠ” ì–´ë””ë¡œ ì—°ë™í• ì§€..? -->
                    </div>
                </div>
            </div>
            <hr>
            <div class="loader" id="loader"></div>

            <form th:action="@{/upload}" th:object="${uploadForm}" method="post" enctype="multipart/form-data">
                <div class="modal">
                    <div class="modal_body">
                        <h5 class="modal-title">ìƒˆ ë…¸íŠ¸ ë§Œë“¤ê¸°</h5>

                        <div class="modal-footer">

                            <div class="notenameinput">
                                <div class="note-name">ë…¸íŠ¸ ì œëª©</div>
                                <input type="text" class="input-name" placeholder="ë…¸íŠ¸ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." th:field="*{title}">
                                <span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
                            </div>


                            <div class="upload">íŒŒì¼ ì—…ë¡œë“œí•˜ê¸°</div>
                            <div class="upload-box">
                                <div id="drop-file" class="drag-file">
                                    <img src="https://img.icons8.com/ios/50/upload-to-cloud--v1.png" alt="íŒŒì¼ ì•„ì´ì½˜"
                                         class="image">
                                    <p class="message">ë‚´ PCì—ì„œ ìŒì„±íŒŒì¼ì„ ì²¨ë¶€í•˜ê±°ë‚˜ ëŒì–´ì˜¤ì„¸ìš”.<br>
                                        ìŒì„±íŒŒì¼ì˜ í¬ê¸°ëŠ” í•œ ë²ˆì— ìµœëŒ€ 100MBê¹Œì§€ ê°€ëŠ¥í•´ìš”.</p>
                                    <div class="message2">
                                        <div class="message2">
                                            <img src="https://img.icons8.com/ios/50/globe--v1.png" alt="íŒŒì¼ ì•„ì´ì½˜" class="image2">
                                            ì¸ì‹ ì–¸ì–´&nbsp;
                                            <select class="language-select" th:field="*{language}">
                                                <option value="ko-KR">í•œêµ­ì–´</option>
                                                <option value="en-US">ì˜ì–´</option>
                                                <option value="ja-JP">ì¼ë³¸ì–´</option>
                                                <option value="cmn-Hans-CN">ì¤‘êµ­ì–´</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div id="files" class="files">
                                        <div class="file">
                                            <div class="details">
                                                <header class="header">
                                                    <span class="name"></span>

                                                </header>
                                            </div>
                                        </div>
                                    </div>

                                    <label class="file-label" for="chooseFile">íŒŒì¼ ì²¨ë¶€í•˜ê¸°</label>
                                </div>
                            </div>

                            <input class="file" id="chooseFile" type="file" th:field="*{audioFile}">

                            <div class="inputlink">
                                <div class="import">ë§í¬ë¡œ ê°€ì ¸ì˜¤ê¸°</div>

                                <div class="link-upload-container">
                                    <input type="text" class="input-text" placeholder="ìœ íŠœë¸Œ ë§í¬ URLì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”." th:field="*{url}">
                                    <button class="upload-btn" type="submit">Upload</button>
                                </div>

                            </div>

                            <button class="btn btn-secondary btn-close-modal">X</button>
                        </div>
                    </div>
                </div>
            </form>


            <div class="nav__list">
                <a href="#" class="nav__link active" id="All">
                    <ion-icon name="home-outline" class="nav__icon"></ion-icon>
                    <span class="nav_name">ì „ì²´ ë…¸íŠ¸</span>
                </a>
                <a href="#" class="nav__link" id="Important">
                    <ion-icon name="star-outline" class="nav__icon"></ion-icon>
                    <span class="nav_name">ì¤‘ìš” ë…¸íŠ¸</span>
                </a>
                <a href="#" class="nav__link" id="Trash">
                    <ion-icon name="trash-outline" class="nav__icon"></ion-icon>
                    <span class="nav_name">íœ´ì§€í†µ</span>
                </a>
            </div>
        </div>
        <div class="home" onclick="window.location.href='/'">
            <img width="20" height="20" src="https://img.icons8.com/badges/48/home-buton.png" alt="home-buton"/>
            í™ˆìœ¼ë¡œ ê°€ê¸°
        </div>
    </nav>
</div>

<div class="loading-modal">
    <div class="loading-content">
        <img src="/image/ë¡œë”©ì›€ì§¤.gif" style="width:25vw;" alt="ë¡œë”©ì¤‘â€¦">
        <p>&nbsp;&nbsp;&nbsp;&nbsp;ì ì‹œë§Œìš”, ë§ˆë²•ì„ ë¶€ë¦¬ëŠ” ì¤‘ì´ì—ìš”! ğŸª„âœ¨<br>
            ê³§ ìš”ì•½í•´ì„œ ë³´ì—¬ë“œë¦´ê²Œìš”!
        </p>
    </div>
</div>

<div class="contentsnote">
    <div class="content active" id="content0">
        <div th:insert="/mypages/All" id="innercontent0"></div>
    </div>
    <div class="content" id="content1">
        <div th:insert="/mypages/Important" id="innercontent1"></div>
    </div>
    <div class="content" id="content2">
        <div th:insert="/mypages/Trash" id="innercontent2"></div>
    </div>
</div>

<!-- Flash Attributeë¡œ ì „ë‹¬ëœ ë©”ì‹œì§€ í‘œì‹œí•˜ê¸° ìœ„í•œ íƒœê·¸(message = "ë…¸íŠ¸ê°€ íœ´ì§€í†µìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.")
<div th:if="${message}" class="alert alert-success">
    <p th:text="${message}"></p>
</div> -->

<!-- IONICONS -->
<script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
<!-- JS -->
<script src="/js/Text.js"></script>
</body>
</html>
    